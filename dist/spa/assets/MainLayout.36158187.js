import{q as Oe,aV as Pe,a7 as Ae,aX as Ne,a9 as Ve,aZ as We,i as Ie,t as Z,u as Fe,r as _,c as n,a$ as Ee,bb as ze,w as s,o as fe,O as ue,v as He,ag as ve,h as N,aq as re,s as Ue,g as je,bc as Re,d as me,_ as he,l as B,m as Q,n as u,f as r,U as Xe,ae as Ke,p as M,a2 as ie,Q as Ze,L as Ge,k as se,V as Je,aj as Ye,bd as ea,F as aa,be as ta}from"./index.5b155391.js";import{Q as oa,a as la,b as na,c as ua,d as ra}from"./QLayout.dc07131f.js";import{a as J,b as W,c as be}from"./QMenu.a6c2adc9.js";import{Q as de}from"./QList.168fe894.js";import{Q as ia}from"./QBtnDropdown.1b00e455.js";import{T as G}from"./TouchPan.70ee5671.js";import{b as V}from"./format.3713b029.js";import{C as sa}from"./ClosePopup.e6b5ad83.js";import{u as da}from"./use-quasar.b8b4cd8b.js";import{u as ca}from"./UseApi.8087e7d0.js";import"./QResizeObserver.43916344.js";const ce=150;var fa=Oe({name:"QDrawer",inheritAttrs:!1,props:{...Pe,...Ae,side:{type:String,default:"left",validator:a=>["left","right"].includes(a)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:a=>["default","desktop","mobile"].includes(a),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ne,"onLayout","miniState"],setup(a,{slots:b,emit:h,attrs:C}){const c=je(),{proxy:{$q:f}}=c,I=Ve(a,f),{preventBodyScroll:$}=Re(),{registerTimeout:k,removeTimeout:ye}=We(),t=Ie(Fe,Z);if(t===Z)return console.error("QDrawer needs to be child of QLayout"),Z;let F,p=null,q;const i=_(a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint),T=n(()=>a.mini===!0&&i.value!==!0),v=n(()=>T.value===!0?a.miniWidth:a.width),l=_(a.showIfAbove===!0&&i.value===!1?!0:a.modelValue===!0),Y=n(()=>a.persistent!==!0&&(i.value===!0||ke.value===!0));function ee(e,o){if(we(),e!==!1&&t.animate(),m(0),i.value===!0){const d=t.instances[P.value];d!==void 0&&d.belowBreakpoint===!0&&d.hide(!1),w(1),t.isContainer.value!==!0&&$(!0)}else w(0),e!==!1&&R(!1);k(()=>{e!==!1&&R(!0),o!==!0&&h("show",e)},ce)}function ae(e,o){ge(),e!==!1&&t.animate(),w(0),m(L.value*v.value),X(),o!==!0?k(()=>{h("hide",e)},ce):ye()}const{show:E,hide:x}=Ee({showing:l,hideOnRouteChange:Y,handleShow:ee,handleHide:ae}),{addToHistory:we,removeFromHistory:ge}=ze(l,x,Y),O={belowBreakpoint:i,hide:x},y=n(()=>a.side==="right"),L=n(()=>(f.lang.rtl===!0?-1:1)*(y.value===!0?1:-1)),te=_(0),S=_(!1),z=_(!1),oe=_(v.value*L.value),P=n(()=>y.value===!0?"left":"right"),H=n(()=>l.value===!0&&i.value===!1&&a.overlay===!1?a.miniToOverlay===!0?a.miniWidth:v.value:0),U=n(()=>a.overlay===!0||a.miniToOverlay===!0||t.view.value.indexOf(y.value?"R":"L")>-1||f.platform.is.ios===!0&&t.isContainer.value===!0),D=n(()=>a.overlay===!1&&l.value===!0&&i.value===!1),ke=n(()=>a.overlay===!0&&l.value===!0&&i.value===!1),pe=n(()=>"fullscreen q-drawer__backdrop"+(l.value===!1&&S.value===!1?" hidden":"")),_e=n(()=>({backgroundColor:`rgba(0,0,0,${te.value*.4})`})),le=n(()=>y.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),Ce=n(()=>y.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),Le=n(()=>{const e={};return t.header.space===!0&&le.value===!1&&(U.value===!0?e.top=`${t.header.offset}px`:t.header.space===!0&&(e.top=`${t.header.size}px`)),t.footer.space===!0&&Ce.value===!1&&(U.value===!0?e.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(e.bottom=`${t.footer.size}px`)),e}),Se=n(()=>{const e={width:`${v.value}px`,transform:`translateX(${oe.value}px)`};return i.value===!0?e:Object.assign(e,Le.value)}),Be=n(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),$e=n(()=>`q-drawer q-drawer--${a.side}`+(z.value===!0?" q-drawer--mini-animate":"")+(a.bordered===!0?" q-drawer--bordered":"")+(I.value===!0?" q-drawer--dark q-dark":"")+(S.value===!0?" no-transition":l.value===!0?"":" q-layout--prevent-focus")+(i.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(U.value===!0||D.value!==!0?" fixed":"")+(a.overlay===!0||a.miniToOverlay===!0?" q-drawer--on-top":"")+(le.value===!0?" q-drawer--top-padding":""))),qe=n(()=>{const e=f.lang.rtl===!0?a.side:P.value;return[[G,Qe,void 0,{[e]:!0,mouse:!0}]]}),Te=n(()=>{const e=f.lang.rtl===!0?P.value:a.side;return[[G,ne,void 0,{[e]:!0,mouse:!0}]]}),xe=n(()=>{const e=f.lang.rtl===!0?P.value:a.side;return[[G,ne,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function j(){Me(i,a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint)}s(i,e=>{e===!0?(F=l.value,l.value===!0&&x(!1)):a.overlay===!1&&a.behavior!=="mobile"&&F!==!1&&(l.value===!0?(m(0),w(0),X()):E(!1))}),s(()=>a.side,(e,o)=>{t.instances[o]===O&&(t.instances[o]=void 0,t[o].space=!1,t[o].offset=0),t.instances[e]=O,t[e].size=v.value,t[e].space=D.value,t[e].offset=H.value}),s(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&j()}),s(()=>a.behavior+a.breakpoint,j),s(t.isContainer,e=>{l.value===!0&&$(e!==!0),e===!0&&j()}),s(t.scrollbarWidth,()=>{m(l.value===!0?0:void 0)}),s(H,e=>{g("offset",e)}),s(D,e=>{h("onLayout",e),g("space",e)}),s(y,()=>{m()}),s(v,e=>{m(),K(a.miniToOverlay,e)}),s(()=>a.miniToOverlay,e=>{K(e,v.value)}),s(()=>f.lang.rtl,()=>{m()}),s(()=>a.mini,()=>{a.noMiniAnimation||a.modelValue===!0&&(De(),t.animate())}),s(T,e=>{h("miniState",e)});function m(e){e===void 0?ue(()=>{e=l.value===!0?0:v.value,m(L.value*e)}):(t.isContainer.value===!0&&y.value===!0&&(i.value===!0||Math.abs(e)===v.value)&&(e+=L.value*t.scrollbarWidth.value),oe.value=e)}function w(e){te.value=e}function R(e){const o=e===!0?"remove":t.isContainer.value!==!0?"add":"";o!==""&&document.body.classList[o]("q-body--drawer-toggle")}function De(){p!==null&&clearTimeout(p),c.proxy&&c.proxy.$el&&c.proxy.$el.classList.add("q-drawer--mini-animate"),z.value=!0,p=setTimeout(()=>{p=null,z.value=!1,c&&c.proxy&&c.proxy.$el&&c.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Qe(e){if(l.value!==!1)return;const o=v.value,d=V(e.distance.x,0,o);if(e.isFinal===!0){d>=Math.min(75,o)===!0?E():(t.animate(),w(0),m(L.value*o)),S.value=!1;return}m((f.lang.rtl===!0?y.value!==!0:y.value)?Math.max(o-d,0):Math.min(0,d-o)),w(V(d/o,0,1)),e.isFirst===!0&&(S.value=!0)}function ne(e){if(l.value!==!0)return;const o=v.value,d=e.direction===a.side,A=(f.lang.rtl===!0?d!==!0:d)?V(e.distance.x,0,o):0;if(e.isFinal===!0){Math.abs(A)<Math.min(75,o)===!0?(t.animate(),w(1),m(0)):x(),S.value=!1;return}m(L.value*A),w(V(1-A/o,0,1)),e.isFirst===!0&&(S.value=!0)}function X(){$(!1),R(!0)}function g(e,o){t.update(a.side,e,o)}function Me(e,o){e.value!==o&&(e.value=o)}function K(e,o){g("size",e===!0?a.miniWidth:o)}return t.instances[a.side]=O,K(a.miniToOverlay,v.value),g("space",D.value),g("offset",H.value),a.showIfAbove===!0&&a.modelValue!==!0&&l.value===!0&&a["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),fe(()=>{h("onLayout",D.value),h("miniState",T.value),F=a.showIfAbove===!0;const e=()=>{(l.value===!0?ee:ae)(!1,!0)};if(t.totalWidth.value!==0){ue(e);return}q=s(t.totalWidth,()=>{q(),q=void 0,l.value===!1&&a.showIfAbove===!0&&i.value===!1?E(!1):e()})}),He(()=>{q!==void 0&&q(),p!==null&&(clearTimeout(p),p=null),l.value===!0&&X(),t.instances[a.side]===O&&(t.instances[a.side]=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const e=[];i.value===!0&&(a.noSwipeOpen===!1&&e.push(ve(N("div",{key:"open",class:`q-drawer__opener fixed-${a.side}`,"aria-hidden":"true"}),qe.value)),e.push(re("div",{ref:"backdrop",class:pe.value,style:_e.value,"aria-hidden":"true",onClick:x},void 0,"backdrop",a.noSwipeBackdrop!==!0&&l.value===!0,()=>xe.value)));const o=T.value===!0&&b.mini!==void 0,d=[N("div",{...C,key:""+o,class:[Be.value,C.class]},o===!0?b.mini():Ue(b.default))];return a.elevated===!0&&l.value===!0&&d.push(N("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(re("aside",{ref:"content",class:$e.value,style:Se.value},d,"contentclose",a.noSwipeClose!==!0&&i.value===!0,()=>Te.value)),N("div",{class:"q-drawer-container"},e)}}});const va=me({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},routeName:{type:String,default:""},icon:{type:String,default:""}}});function ma(a,b,h,C,c,f){return B(),Q(be,{clickable:"",to:{name:a.routeName},exact:""},{default:u(()=>[a.icon?(B(),Q(J,{key:0,avatar:""},{default:u(()=>[r(Xe,{name:a.icon},null,8,["name"])]),_:1})):Ke("",!0),r(J,null,{default:u(()=>[r(W,null,{default:u(()=>[M(ie(a.title),1)]),_:1}),r(W,{caption:""},{default:u(()=>[M(ie(a.caption),1)]),_:1})]),_:1})]),_:1},8,["to"])}var ha=he(va,[["render",ma]]);const ba=[{title:"Inicio",caption:"",icon:"mdi-home",routeName:"me"},{title:"Categoria",caption:"",icon:"mdi-shape-outline",routeName:"categoria"},{title:"Produto",caption:"",icon:"mdi-archive",routeName:"produto"},{title:"Configura\xE7\xF5es",caption:"",icon:"mdi-cog",routeName:"form-config"}],ya=me({name:"MainLayout",components:{EssentialLink:ha},setup(){const a=_(!1),b=Ze(),{logout:h}=Ge(),C=da(),{getBrand:c}=ca();return fe(()=>{c()}),{essentialLinks:ba,leftDrawerOpen:a,handleLogout:async()=>{C.dialog({title:"Sair",message:"Deseja realmente sair?",cancel:"N\xE3o",persistent:!0,ok:"Sim"}).onOk(async()=>{await h(),b.replace({name:"login"})})},toggleLeftDrawer(){a.value=!a.value}}}});function wa(a,b,h,C,c,f){const I=se("EssentialLink"),$=se("router-view");return B(),Q(oa,{view:"lHh Lpr lFf"},{default:u(()=>[r(ua,{elevated:""},{default:u(()=>[r(la,null,{default:u(()=>[r(Je,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:a.toggleLeftDrawer},null,8,["onClick"]),r(na,null,{default:u(()=>[M(" Quasar App ")]),_:1}),r(ia,{flat:"",color:"white",icon:"logout"},{default:u(()=>[r(de,null,{default:u(()=>[ve((B(),Q(be,{clickable:"",onClick:a.handleLogout},{default:u(()=>[r(J,null,{default:u(()=>[r(W,null,{default:u(()=>[M("Sair")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[sa]])]),_:1})]),_:1})]),_:1})]),_:1}),r(fa,{modelValue:a.leftDrawerOpen,"onUpdate:modelValue":b[0]||(b[0]=k=>a.leftDrawerOpen=k),"show-if-above":"",bordered:""},{default:u(()=>[r(de,null,{default:u(()=>[r(W,{header:""},{default:u(()=>[M(" Menu de acesso ")]),_:1}),(B(!0),Ye(aa,null,ea(a.essentialLinks,k=>(B(),Q(I,ta({key:k.title},k),null,16))),128))]),_:1})]),_:1},8,["modelValue"]),r(ra,null,{default:u(()=>[r($)]),_:1})]),_:1})}var Da=he(ya,[["render",wa]]);export{Da as default};
