import{_ as v,d as C,Q as _,M as w,c as Q,r as S,o as V,l as B,m as $,n as f,R as n,f as r,S as x,V as y,W as F}from"./index.5b155391.js";import{Q as M}from"./QForm.c72263ed.js";import{Q as N}from"./QPage.ce3ac282.js";import{u as R}from"./UseApi.8087e7d0.js";import{u as U}from"./UseNotify.ed29e0c6.js";import"./use-quasar.b8b4cd8b.js";const k=C({name:"FormCategory",setup(){const e="category",o=_(),i=w(),{post:c,getById:u,update:m}=R(),{notifySuccess:a,notifyError:d}=U(),t=Q(()=>i.params.id);let p={};const s=S({name:""});V(()=>{t.value&&h(t.value)});const g=async()=>{try{t.value?(await m(e,s.value),a("Categoria editada com sucesso!")):(await c(e,s.value),a("Categoria adicionada com sucesso!")),o.push({name:"categoria"})}catch(l){d(l.message)}},h=async l=>{try{p=await u(e,l),s.value=p}catch(b){d(b.message)}};return{form:s,handleSubmit:g,isUpdate:t}}}),E={class:"row justify-center"},I=n("div",{class:"col-12 text-center"},[n("p",{class:"text-h6"}," Categoria ")],-1);function j(e,o,i,c,u,m){return B(),$(N,{padding:""},{default:f(()=>[n("div",E,[I,r(M,{class:"col-md-7 col-xs-12 col-sm-12 q-gutter-y-md",onSubmit:F(e.handleSubmit,["prevent"])},{default:f(()=>[r(x,{label:"Descri\xE7\xE3o",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.name=a),"lazy-rules":"",rules:[a=>a&&a.length>0||"Campo obrigat\xF3rio!"]},null,8,["modelValue","rules"]),r(y,{label:e.isUpdate?"Editar":"Salvar",color:"primary",class:"full-width",rounded:"",type:"submit"},null,8,["label"]),r(y,{label:"Cancelar",color:"primary",class:"full-width",rounded:"",flat:"",to:{name:"categoria"}})]),_:1},8,["onSubmit"])])]),_:1})}var W=v(k,[["render",j]]);export{W as default};
