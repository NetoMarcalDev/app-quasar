import{_ as c,d as g,Q as h,L as w,r as u,o as y,l as b,m as V,n as r,f as a,R as t,S as p,U as L,V as i,W as P}from"./index.5b155391.js";import{Q}from"./QForm.c72263ed.js";import{Q as v}from"./QPage.ce3ac282.js";import{u as C}from"./UseNotify.ed29e0c6.js";import"./use-quasar.b8b4cd8b.js";const _=g({name:"LoginPage",setup(){const e=h(),{login:o,isLoggedIn:n}=w(),{notifyError:d,notifySuccess:m}=C(),l=u({email:"",password:""});y(()=>{n&&e.push({name:"me"})});const s=async()=>{try{await o(l.value),m("Login realizado com sucesso!"),e.push({name:"me"})}catch(f){d(f.message)}};return{form:l,isPwd:u(!0),handleLogin:s}}}),z=t("p",{class:"col-12 text-h4 text-center"},"Login",-1),S={class:"col-md-4 col-sm-6 col-xs-10 q-gutter-y-md"},$={class:"full-width q-pt-md"},q={class:"full-width"};function B(e,o,n,d,m,l){return b(),V(v,{padding:""},{default:r(()=>[a(Q,{class:"row justify-center",onSubmit:P(e.handleLogin,["prevent"])},{default:r(()=>[z,t("div",S,[a(p,{label:"E-mail",modelValue:e.form.email,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.email=s),type:"email","lazy-rules":"",rules:[s=>s&&s.length>0||"Campo obrigat\xF3rio!"]},null,8,["modelValue","rules"]),a(p,{label:"Senha",modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.password=s),type:e.isPwd?"password":"text","lazy-rules":"",rules:[s=>s&&s.length>0||"Campo obrigat\xF3rio!"]},{append:r(()=>[a(L,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=s=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),t("div",$,[a(i,{label:"Acessar",color:"primary",class:"full-width",outline:"",rounded:"",type:"submit"})]),t("div",q,[a(i,{label:"Cadastre-se",color:"primary",class:"full-width",flat:"",to:"cadastro",size:"0.8em"}),a(i,{label:"Esqueceu a senha?",color:"primary",class:"full-width",flat:"",to:{name:"esqueci-minha-senha"},size:"0.8em"})])])]),_:1},8,["onSubmit"])]),_:1})}var A=c(_,[["render",B]]);export{A as default};
