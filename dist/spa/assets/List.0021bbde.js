import{a as $,Q as w}from"./QTable.5462feae.js";import{_ as q,d as B,r as g,L as E,Q as N,o as V,l as c,aj as A,f as o,n as a,m as y,V as i,ae as h,p as C,R as L}from"./index.5b155391.js";import{Q as v}from"./QTooltip.12d7c120.js";import{Q as R,a as T}from"./QPageSticky.825fe504.js";import{u as D}from"./UseApi.8087e7d0.js";import{u as S}from"./UseNotify.ed29e0c6.js";import{u as j}from"./use-quasar.b8b4cd8b.js";import"./QList.168fe894.js";import"./use-fullscreen.cc57e7b4.js";import"./QMenu.a6c2adc9.js";import"./format.3713b029.js";import"./rtl.b51694b1.js";const P=[{name:"name",align:"left",label:"Descri\xE7\xE3o",field:"name",sortable:!0},{name:"actions",align:"right",label:"A\xE7\xF5es",field:"actions",sortable:!0}],M=B({name:"CategoryList",setup(){const e=g([]),s=g(!0),{user:m}=E(),{listPublic:d,remove:u}=D(),{notifyError:n,notifySuccess:r}=S(),l=N(),p="category",k=j(),f=async()=>{try{s.value=!0,e.value=await d(p,m.value.id),s.value=!1}catch(t){s.value=!1,n(t.message)}},_=t=>{l.push({name:"form-categoria",params:{id:t.id}})},b=async t=>{try{k.dialog({title:"Confirme",message:`Deseja excluir ${t.name} ?`,cancel:!0,persistent:!0}).onOk(async()=>{await u(p,t.id),r("Categoria removida com sucesso."),f()})}catch(Q){n(Q.message)}};return V(()=>{f()}),{columnsCategory:P,caterories:e,loading:s,handleEdit:_,handleRemoveCategory:b}}}),O={class:"q-pa-md"},U=L("span",{class:"text-h6"}," Categoria ",-1);function x(e,s,m,d,u,n){return c(),A("div",O,[o($,{rows:e.caterories,columns:e.columnsCategory,"row-key":"id",loading:e.loading},{top:a(()=>[U,o(w),e.$q.platform.is.desktop?(c(),y(i,{key:0,label:"Adiconar",color:"primary",icon:"mdi-plus",dense:"",to:{name:"form-categoria"}})):h("",!0)]),"body-cell-actions":a(r=>[o(T,{props:r,class:"q-gutter-sm"},{default:a(()=>[o(i,{icon:"mdi-pencil-outline",color:"secondary",dense:"",onClick:l=>e.handleEdit(r.row)},{default:a(()=>[o(v,null,{default:a(()=>[C(" Editar ")]),_:1})]),_:2},1032,["onClick"]),o(i,{icon:"mdi-delete-outline",color:"negative",dense:"",onClick:l=>e.handleRemoveCategory(r.row)},{default:a(()=>[o(v,null,{default:a(()=>[C(" Deletar ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"]),o(R,{position:"bottom-right",offset:[18,18]},{default:a(()=>[e.$q.platform.is.mobile?(c(),y(i,{key:0,fab:"",icon:"mdi-plus",color:"primary",to:{name:"form-categoria"}})):h("",!0)]),_:1})])}var oe=q(M,[["render",x]]);export{oe as default};
